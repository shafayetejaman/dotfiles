# ~/.tmux.conf - minimal headless setup

# Remove status bar
set-option -g status off

set-option -g mouse on

# Disable automatic renaming of window/panes
set-option -g allow-rename off

# Scrollback history
set-option -g history-limit 10000

# Copy/paste settings (use vi keys for easy selection)
bind a copy-mode
setw -g mode-keys vi

# Remove visual clutter for panes/windows
set-option -g pane-border-status off
set-option -g pane-border-format ""
set-option -g display-time 0
set-option -g message-command-style bg=default,fg=default
set-option -g message-style bg=default,fg=default

set-option -g default-shell /usr/bin/zsh

# --- Vim-style visual selection ---
bind-key -T copy-mode-vi v send-keys -X begin-selection
# Enter will still copy selection to tmux buffer


# Bind 'y' in copy mode to copy selection to Wayland clipboard and exit copy mode
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy"


# Use true color
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Faster key response
set -sg escape-time 10


# Start windows and panes at 1 (Vim mindset)
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

##### SPLITS — VIM STYLE #####

# Remove default split keys to avoid confusion
unbind %
unbind '"'

# Vim-like splits
# \  → horizontal split (left/right)
# -  → vertical split (top/bottom)
# Horizontal split (vim-style)
bind-key \\ split-window -h -c "#{pane_current_path}"

# Vertical split
bind-key - split-window -v -c "#{pane_current_path}"


##### PANE NAVIGATION — hjkl #####

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R


##### PANE RESIZE — HJKL #####

bind H resize-pane -L 5
bind J resize-pane -D 5
bind K resize-pane -U 5
bind L resize-pane -R 5


# Move between windows faster
bind -r C-h previous-window
bind -r C-l next-window


bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded"

# Kill pane without confirmation
unbind w
bind w kill-pane

set -g @plugin 'omerxx/tmux-sessionx'

# I recommend using `o` if not already in use, for least key strokes when launching
set -g @sessionx-bind 'o'
set -g @sessionx-x-path '/home/shafayet/workspace'


# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
